<?php

namespace App\Tools;

use App\Models\Tool;
use Illuminate\Http\Request;
use App\Contracts\ToolInterface;

class SmallTextGenerator implements ToolInterface
{

    protected $tinytext = array(
        "a" => "áµƒ",
        "b" => "áµ‡",
        "c" => "á¶œ",
        "d" => "áµˆ",
        "e" => "áµ‰",
        "f" => "á¶ ",
        "g" => "áµ",
        "h" => "Ê°",
        "i" => "â±",
        "j" => "Ê²",
        "k" => "áµ",
        "l" => "Ë¡",
        "m" => "áµ",
        "n" => "â¿",
        "o" => "áµ’",
        "p" => "áµ–",
        "q" => "á‘«",
        "r" => "Ê³",
        "s" => "Ë¢",
        "t" => "áµ—",
        "u" => "áµ˜",
        "v" => "áµ›",
        "w" => "Ê·",
        "x" => "Ë£",
        "y" => "Ê¸",
        "z" => "á¶»",
        "A" => "áµƒ",
        "B" => "áµ‡",
        "C" => "á¶œ",
        "D" => "áµˆ",
        "E" => "áµ‰",
        "F" => "á¶ ",
        "G" => "áµ",
        "H" => "Ê°",
        "I" => "â±",
        "J" => "Ê²",
        "K" => "áµ",
        "L" => "Ë¡",
        "M" => "áµ",
        "N" => "â¿",
        "O" => "áµ’",
        "P" => "áµ–",
        "Q" => "áµ ",
        "R" => "Ê³",
        "S" => "Ë¢",
        "T" => "áµ—",
        "U" => "áµ˜",
        "V" => "áµ›",
        "X" => "Ë£",
        "W" => "Ê·",
        "Y" => "Ê¸",
        "Z" => "á¶»",
        "`" => "`",
        "~" => "~",
        "!" => "ï¹—",
        "@" => "@",
        "#" => "#",
        "$" => "ï¹©",
        "%" => "ï¹ª",
        "^" => "^",
        "&" => "ï¹ ",
        "*" => "ï¹¡",
        "(" => "â½",
        ")" => "â¾",
        "_" => "â»",
        "-" => "â»",
        "=" => "â¼",
        "+" => "+",
        "{" => "{",
        "[" => "[",
        "}" => "}",
        "]" => "]",
        "=>" => "ï¹•",
        ";" => "ï¹”",
        "?" => "ï¹–",
        "0" => "â°",
        "1" => "Â¹",
        "2" => "Â²",
        "3" => "Â³",
        "4" => "â´",
        "5" => "âµ",
        "6" => "â¶",
        "7" => "â·",
        "8" => "â¸",
        "9" => "â¹",
    );

    protected $smallcapstext = array(
        "a" => "á´€",
        "b" => "Ê™",
        "c" => "á´„",
        "d" => "á´…",
        "e" => "á´‡",
        "f" => "êœ°",
        "g" => "É¢",
        "h" => "Êœ",
        "i" => "Éª",
        "j" => "á´Š",
        "k" => "á´‹",
        "l" => "ÊŸ",
        "m" => "á´",
        "n" => "É´",
        "o" => "á´",
        "p" => "á´˜",
        "q" => "q",
        "r" => "Ê€",
        "s" => "s",
        "t" => "á´›",
        "u" => "á´œ",
        "v" => "á´ ",
        "w" => "á´¡",
        "x" => "x",
        "y" => "Ê",
        "z" => "á´¢",
        "A" => "A",
        "B" => "B",
        "C" => "C",
        "D" => "D",
        "E" => "E",
        "F" => "F",
        "G" => "G",
        "H" => "H",
        "I" => "I",
        "J" => "J",
        "K" => "K",
        "L" => "L",
        "M" => "M",
        "N" => "N",
        "O" => "O",
        "P" => "P",
        "Q" => "Q",
        "R" => "R",
        "S" => "S",
        "T" => "T",
        "U" => "U",
        "V" => "V",
        "W" => "W",
        "X" => "X",
        "Y" => "Y",
        "Z" => "Z",
        "`" => "`",
        "~" => "~",
        "!" => "ï¹—",
        "@" => "@",
        "#" => "#",
        "$" => "ï¹©",
        "%" => "ï¹ª",
        "^" => "^",
        "&" => "ï¹ ",
        "*" => "ï¹¡",
        "(" => "â½",
        ")" => "â¾",
        "_" => "â»",
        "-" => "â»",
        "=" => "â¼",
        "+" => "+",
        "{" => "{",
        "[" => "[",
        "}" => "}",
        "]" => "]",
        "=>" => "ï¹•",
        ";" => "ï¹”",
        "?" => "ï¹–",
        "0" => "0",
        "1" => "1",
        "2" => "2",
        "3" => "3",
        "4" => "4",
        "5" => "5",
        "6" => "6",
        "7" => "7",
        "8" => "8",
        "9" => "9",
    );
    protected $boldtext = array(
        "a" => "ðš",
        "b" => "ð›",
        "c" => "ðœ",
        "d" => "ð",
        "e" => "ðž",
        "f" => "ðŸ",
        "g" => "ð ",
        "h" => "ð¡",
        "i" => "ð¢",
        "j" => "ð£",
        "k" => "ð¤",
        "l" => "ð¥",
        "m" => "ð¦",
        "n" => "ð§",
        "o" => "ð¨",
        "p" => "ð©",
        "q" => "ðª",
        "r" => "ð«",
        "s" => "ð¬",
        "t" => "ð­",
        "u" => "ð®",
        "v" => "ð¯",
        "w" => "ð°",
        "x" => "ð±",
        "y" => "ð²",
        "z" => "ð³",
        "A" => "ð€",
        "B" => "ð",
        "C" => "ð‚",
        "D" => "ðƒ",
        "E" => "ð„",
        "F" => "ð…",
        "G" => "ð†",
        "H" => "ð‡",
        "I" => "ðˆ",
        "J" => "ð‰",
        "K" => "ðŠ",
        "L" => "ð‹",
        "M" => "ðŒ",
        "N" => "ð",
        "O" => "ðŽ",
        "P" => "ð",
        "Q" => "ð",
        "R" => "ð‘",
        "S" => "ð’",
        "T" => "ð“",
        "U" => "ð”",
        "V" => "ð•",
        "X" => "ð—",
        "W" => "ð–",
        "Y" => "ð˜",
        "Z" => "ð™",
        "`" => "`",
        "~" => "~",
        "!" => "!",
        "@" => "@",
        "#" => "#",
        "$" => "$",
        "%" => "%",
        "^" => "^",
        "&" => "&",
        "*" => "*",
        "(" => "(",
        ")" => ")",
        "_" => "_",
        "-" => "-",
        "=" => "=",
        "+" => "+",
        "{" => "{",
        "[" => "[",
        "}" => "}",
        "]" => "]",
        "=>" => "=>",
        ";" => ";",
        "?" => "?",
        "0" => "ðŸŽ",
        "1" => "ðŸ",
        "2" => "ðŸ",
        "3" => "ðŸ‘",
        "4" => "ðŸ’",
        "5" => "ðŸ“",
        "6" => "ðŸ”",
        "7" => "ðŸ•",
        "8" => "ðŸ–",
        "9" => "ðŸ—",
    );
    protected $circledtext = array(
        "a" => "â“",
        "b" => "â“‘",
        "c" => "â“’",
        "d" => "â““",
        "e" => "â“”",
        "f" => "â“•",
        "g" => "â“–",
        "h" => "â“—",
        "i" => "â“˜",
        "j" => "â“™",
        "k" => "â“š",
        "l" => "â“›",
        "m" => "â“œ",
        "n" => "â“",
        "o" => "â“ž",
        "p" => "â“Ÿ",
        "q" => "â“ ",
        "r" => "â“¡",
        "s" => "â“¢",
        "t" => "â“£",
        "u" => "â“¤",
        "v" => "â“¥",
        "w" => "â“¦",
        "x" => "â“§",
        "y" => "â“¨",
        "z" => "â“©",
        "A" => "â’¶",
        "B" => "â’·",
        "C" => "â’¸",
        "D" => "â’¹",
        "E" => "â’º",
        "F" => "â’»",
        "G" => "â’¼",
        "H" => "â’½",
        "I" => "â’¾",
        "J" => "â’¿",
        "K" => "â“€",
        "L" => "â“",
        "M" => "â“‚",
        "N" => "â“ƒ",
        "O" => "â“„",
        "P" => "â“…",
        "Q" => "â“†",
        "R" => "â“‡",
        "S" => "â“ˆ",
        "T" => "â“‰",
        "U" => "â“Š",
        "V" => "â“‹",
        "X" => "â“",
        "W" => "â“Œ",
        "Y" => "â“Ž",
        "Z" => "â“",
        "`" => "`",
        "~" => "~",
        "!" => "!",
        "@" => "@",
        "#" => "#",
        "$" => "$",
        "%" => "%",
        "^" => "^",
        "&" => "&",
        "*" => "âŠ›",
        "(" => "(",
        ")" => ")",
        "_" => "_",
        "-" => "âŠ–",
        "=" => "=",
        "+" => "+",
        "{" => "{",
        "[" => "[",
        "}" => "}",
        "]" => "]",
        ":" => ":",
        ";" => ";",
        "?" => "?",
        "0" => "0",
        "1" => "â‘ ",
        "2" => "â‘¡",
        "3" => "â‘¢",
        "4" => "â‘£",
        "5" => "â‘¤",
        "6" => "â‘¥",
        "7" => "â‘¦",
        "8" => "â‘§",
        "9" => "â‘¨",
    );
    protected $invertedtext = array(
        "a" => "É",
        "b" => "q",
        "c" => "É”",
        "d" => "p",
        "e" => "Ç",
        "f" => "ÉŸ",
        "g" => "Æƒ",
        "h" => "É¥",
        "i" => "Ä±",
        "j" => "É¾",
        "k" => "Êž",
        "l" => "×Ÿ",
        "m" => "É¯",
        "n" => "u",
        "o" => "o",
        "p" => "d",
        "q" => "b",
        "r" => "É¹",
        "s" => "s",
        "t" => "Ê‡",
        "u" => "n",
        "v" => "ÊŒ",
        "w" => "Ê",
        "x" => "x",
        "y" => "ÊŽ",
        "z" => "z",
        "A" => "É",
        "B" => "q",
        "C" => "É”",
        "D" => "p",
        "E" => "Ç",
        "F" => "ÉŸ",
        "G" => "Æƒ",
        "H" => "É¥",
        "I" => "Ä±",
        "J" => "É¾",
        "K" => "Êž",
        "L" => "×Ÿ",
        "M" => "É¯",
        "N" => "u",
        "O" => "o",
        "P" => "d",
        "Q" => "b",
        "R" => "É¹",
        "S" => "s",
        "T" => "Ê‡",
        "U" => "n",
        "V" => "ðŒ¡",
        "X" => "x",
        "W" => "Ê",
        "Y" => "ÊŽ",
        "Z" => "z",
        "`" => "`",
        "~" => "~",
        "!" => "Â¡",
        "@" => "@",
        "#" => "#",
        "$" => "ï¹©",
        "%" => "ï¹ª",
        "^" => "^",
        "&" => "â…‹",
        "*" => "*",
        "(" => ")",
        ")" => "(",
        "_" => "â»",
        "-" => "-",
        "=" => "=",
        "+" => "+",
        "{" => "}",
        "[" => "]",
        "}" => "{",
        "]" => "[",
        ":" => ":",
        ";" => ";",
        "?" => "Â¿",
        "0" => "0",
        "1" => "1",
        "2" => "2",
        "3" => "3",
        "4" => "4",
        "5" => "5",
        "6" => "6",
        "7" => "7",
        "8" => "8",
        "9" => "9",
    );
    protected $backwardstext = array(
        "a" => "a",
        "b" => "d",
        "c" => "â†„",
        "d" => "b",
        "e" => "É˜",
        "f" => "êŸ»",
        "g" => "g",
        "h" => "h",
        "i" => "i",
        "j" => "j",
        "k" => "k",
        "l" => "l",
        "m" => "m",
        "n" => "á´Ž",
        "o" => "o",
        "p" => "q",
        "q" => "p",
        "r" => "á´™",
        "s" => "ê™…",
        "t" => "t",
        "u" => "u",
        "v" => "v",
        "w" => "w",
        "x" => "x",
        "y" => "y",
        "z" => "z",
        "A" => "A",
        "B" => "d",
        "C" => "â†ƒ",
        "D" => "b",
        "E" => "ÆŽ",
        "F" => "êŸ»",
        "G" => "G",
        "H" => "H",
        "I" => "I",
        "J" => "J",
        "K" => "K",
        "L" => "â…ƒ",
        "M" => "M",
        "N" => "á´Ž",
        "O" => "O",
        "P" => "êŸ¼",
        "Q" => "p",
        "R" => "á´™",
        "S" => "ê™„",
        "T" => "T",
        "U" => "U",
        "V" => "V",
        "X" => "X",
        "W" => "W",
        "Y" => "Y",
        "Z" => "Z",
        "`" => "`",
        "~" => "~",
        "!" => "ï¹—",
        "@" => "@",
        "#" => "#",
        "$" => "ï¹©",
        "%" => "ï¹ª",
        "^" => "^",
        "&" => "&",
        "*" => "*",
        "(" => "(",
        ")" => ")",
        "_" => "â»",
        "-" => "â»",
        "=" => "=",
        "+" => "+",
        "{" => "{",
        "[" => "[",
        "}" => "}",
        "]" => "]",
        ":" => "ï¹•",
        ";" => "ï¹”",
        "?" => "ï¹–",
        "0" => "0",
        "1" => "ß",
        "2" => "2",
        "3" => "3",
        "4" => "4",
        "5" => "5",
        "6" => "6",
        "7" => "7",
        "8" => "8",
        "9" => "9",
    );

    public function render(Request $request, Tool $tool)
    {
        $type = 1;

        return view('tools.small-text-generator', compact('tool', 'type'));
    }

    public function handle(Request $request, Tool $tool)
    {
        $validated = $request->validate([
            'string' => "required|string|min:1|max_words:{$tool->wc_tool}",
            'type' => 'required',
        ]);

        $string = $request->input('string');
        $type = $request->input('type');
        $converted_text = "";
        switch ($type) {
            case ('1'):
                $converted_text  = $this->replaceString($string, "tinytext");
                break;
            case ('2'):
                $converted_text  = $this->replaceString($string, "invertedtext");
                break;
            case ('3'):
                $converted_text  = $this->replaceString($string, "smallcapstext");
                break;
            case ('4'):
                $converted_text  = $this->replaceString($string, "boldtext");
                break;
            case ('5'):
                $converted_text  = $this->replaceString($string, "circledtext");
                break;
            case ('6'):
                $converted_text  = $this->replaceString($string, "backwardstext");
                break;
            default:
        }
        $results = [
            'original_text' => $string,
            'converted_text' => $converted_text
        ];

        return view('tools.small-text-generator', compact('results', 'tool', 'type'));
    }

    public function replaceString($string, $array)
    {
        $tmp = "";
        for ($i = 0; $i < strlen($string); $i++) {
            if (isset($this->$array[$string[$i]])) {
                $tmp .= $this->$array[$string[$i]];
            } else {
                $tmp .= $string[$i];
            }
        }

        return $tmp;
    }
}
